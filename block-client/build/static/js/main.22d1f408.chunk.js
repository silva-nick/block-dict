(this["webpackJsonpblock-dictionary"]=this["webpackJsonpblock-dictionary"]||[]).push([[0],{23:function(e,t,a){e.exports=a(50)},28:function(e,t,a){},30:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),l=a(19),r=a.n(l),s=(a(28),a(8)),c=a.n(s),o=a(20),u=a(22),h=a(3),d=a(4),p=a(6),f=a(5),v=a(2),m=a(7),b=(a(30),a(21)),y=a.n(b),k=a(18),g=y.a.create({baseURL:"http://localhost:3001/api/"}),C={getCharByChar:function(e){return g.get("/char/".concat(e))},getDefsByChars:function(e){return g.post("/dictionary",k.stringify(e))}},E=a(18);var O=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).state={color:"#EADAAC",selected:!1},a.handleClick=a.handleClick.bind(Object(v.a)(a)),a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"handleClick",value:function(){var e=this;this.state.selected=!this.state.selected,this.setState((function(t){return{color:e.state.selected?"#D6B85C":"#EADAAC"}})),this.props.callback(this.state.selected)}},{key:"render",value:function(){var e={backgroundColor:this.state.color};return i.a.createElement("div",{className:"block",style:e},i.a.createElement("text",{onClick:this.handleClick},this.props.value))}}]),t}(i.a.Component),x=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).state={open:!1},a.handleClick=a.handleClick.bind(Object(v.a)(a)),a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"handleClick",value:function(){this.setState((function(e){return{open:!e.open}}))}},{key:"render",value:function(){if(this.state.open){return i.a.createElement("div",{className:"output-block",onClick:this.handleClick,style:{width:"180px",height:"180px",transform:"translatex(0px) translatey(0px) rotatey(-180deg) ",transition:"all .5s cubic-bezier(0.62, 0.4, 0.5, 0.91)"}},i.a.createElement("div",{class:"flip-card-front"},i.a.createElement("text",null,this.props.value.simplified)),i.a.createElement("div",{class:"flip-card-back"},i.a.createElement("div",{className:"pinyin"},i.a.createElement("text",null,this.props.value.pinyin)),i.a.createElement("div",{className:"definition"},i.a.createElement("text",null,this.props.value.english))))}return i.a.createElement("div",{className:"output-block",onClick:this.handleClick},i.a.createElement("div",{class:"flip-card-front"},i.a.createElement("text",null,this.props.value.simplified)),i.a.createElement("div",{class:"flip-card-back"},i.a.createElement("div",{className:"pinyin"},i.a.createElement("text",null,this.props.value.pinyin)),i.a.createElement("div",{className:"definition"},i.a.createElement("text",null,this.props.value.english))))}}]),t}(i.a.Component),j={Type:[{simplified:"\u5f00",pinyin:"kai1",english:"open"}],to:[{simplified:"\u59cb",pinyin:"shi3",english:"beginning"}],start:[{simplified:"\u5427!",pinyin:"ba",english:"suggestive particle"}]},w=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).selectedCallback=function(e){console.log(e)},a.state={words:j},a.handleChange=a.handleChange.bind(Object(v.a)(a)),a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"handleChange",value:function(e){var t=e.target.value.replace(/[.,\/\^&\*;:{}=\-_`~()]/g,"").split("");if(0===t.length)this.setState({words:{Type:[{simplified:"\u5f00",pinyin:"kai1",english:"open"}],to:[{simplified:"\u59cb",pinyin:"shi3",english:"beginning"}],start:[{simplified:"\u5427!",pinyin:"ba",english:"suggestive particle"}]}});else{var a=Object(u.a)(new Set(t));for(var n in this.state.words)-1===a.indexOf(n)&&delete this.state.words[n];var i=!0,l=!1,r=void 0;try{for(var s,c=a[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var o=s.value;-1===Object.keys(this.state.words).indexOf(o)&&(this.state.words[o]=[],this.addDefines(Object.keys(this.state.words),o))}}catch(h){l=!0,r=h}finally{try{i||null==c.return||c.return()}finally{if(l)throw r}}this.forceUpdate()}}},{key:"addDefines",value:function(){var e=Object(o.a)(c.a.mark((function e(t,a){var n=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.getDefsByChars(t).then((function(e){if(e){(e=e.data.split("}")).pop();var t=!0,i=!1,l=void 0;try{for(var r,s=e[Symbol.iterator]();!(t=(r=s.next()).done);t=!0){var c=r.value;c=E.parse(c),-1===n.state.words[a].indexOf(c)&&n.state.words[a].push(c)}}catch(o){i=!0,l=o}finally{try{t||null==s.return||s.return()}finally{if(i)throw l}}n.forceUpdate()}}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=[],t=[];for(var a in this.state.words){e.push(i.a.createElement(O,{value:a,callback:this.selectedCallback}));var n=!0,l=!1,r=void 0;try{for(var s,c=this.state.words[a][Symbol.iterator]();!(n=(s=c.next()).done);n=!0){var o=s.value;t.push(i.a.createElement(x,{value:o}))}}catch(u){l=!0,r=u}finally{try{n||null==c.return||c.return()}finally{if(l)throw r}}}return i.a.createElement("div",{className:"App"},i.a.createElement("div",{className:"translation-bar"},i.a.createElement("text",{class:"title"},"Translate a word "),i.a.createElement("input",{type:"text",placeholder:"Search..",autoFocus:!0,onChange:this.handleChange})),i.a.createElement("div",{className:"input-blocks"},e),i.a.createElement("div",{className:"output-blocks"},t))}}]),t}(i.a.Component);r.a.render(i.a.createElement(w,null),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.22d1f408.chunk.js.map